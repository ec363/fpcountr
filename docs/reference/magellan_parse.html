<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Parser for Spark/Magellan data — magellan_parse • fpcountr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Parser for Spark/Magellan data — magellan_parse"><meta property="og:description" content="Parser for data exported from a Tecan Spark plate reader using SparkControl
Magellan software. Handles absorbance and/or fluorescence readings (but not
spectra, such as absorbance scans). Handles standard or kinetic/timecourse
data."><meta property="og:image" content="https://ec363.github.io/fpcountr/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fpcountr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/fpcountr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ec363/fpcountr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Parser for Spark/Magellan data</h1>
    <small class="dont-index">Source: <a href="https://github.com/ec363/fpcountr/blob/HEAD/R/magellan_parse.R" class="external-link"><code>R/magellan_parse.R</code></a></small>
    <div class="hidden name"><code>magellan_parse.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Parser for data exported from a Tecan Spark plate reader using SparkControl
Magellan software. Handles absorbance and/or fluorescence readings (but not
spectra, such as absorbance scans). Handles standard or kinetic/timecourse
data.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">magellan_parse</span><span class="op">(</span></span>
<span>  <span class="va">data_csv</span>,</span>
<span>  <span class="va">layout_csv</span>,</span>
<span>  timeseries <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  timestart <span class="op">=</span> <span class="st">"0s"</span>,</span>
<span>  interval <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"read_first"</span>,</span>
<span>  metadata_above <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  metadata_below <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  custom <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  startcol <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  endcol <span class="op">=</span> <span class="fl">97</span>,</span>
<span>  insert_wells_above <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  insert_wells_below <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data_csv</dt>
<dd><p>path to csv file from Tecan Spark plate reader</p></dd>


<dt>layout_csv</dt>
<dd><p>path to csv file containing plate layout information</p></dd>


<dt>timeseries</dt>
<dd><p>logical. Is the data a timeseries? Defaults to FALSE.</p></dd>


<dt>timestart</dt>
<dd><p>string indicating the timepoint specified in column1 of the
export file corresponding to the first row of data. "0s" by default.</p></dd>


<dt>interval</dt>
<dd><p>numeric. time interval in minutes between readings in a
kinetic loop. Default is 10.</p></dd>


<dt>mode</dt>
<dd><p>mode has two options: "read_first" and "incubate_first". Setting
"read_first" mode tells the script that the plate reader method started
with reading the relevant channels, followed by incubation for the interval
time, meaning the first timepoint was at 0 min. Setting "incubate_first"
mode tells the script the opposite was true, making the first timepoint
equal to the length of the set interval, eg 10 min.</p></dd>


<dt>metadata_above</dt>
<dd><p>numeric value corresponding to the number of types of
metadata requested during creation of the Excel export file in Magellan,
that was placed ABOVE the data. These can include Well positions, Layout,
Replicate info, etc.</p></dd>


<dt>metadata_below</dt>
<dd><p>numeric value corresponding to the number of types of
metadata requested during creation of the Excel export file in Magellan,
that was placed BELOW the data. These can include Well positions, Layout,
Replicate info, etc.</p></dd>


<dt>custom</dt>
<dd><p>Boolean flag indicating whether script should deviate from the
default of collecting data from columns 2:97. If TRUE, script looks at
arguments <code>insert_wells_above</code>, <code>insert_wells_below</code>, <code>startcol</code>, <code>endcol</code>.
The total number of columns needs to add up to 96 if the layout_csv file
includes rows A1-H12 and they must be in the same order as the layout file
because this script joins positionally, not by recorded well value (wells
aren't exported by default).</p></dd>


<dt>startcol</dt>
<dd><p>numeric value corresponding to first column of data_csv
corresponding to data</p></dd>


<dt>endcol</dt>
<dd><p>numeric value corresponding to last column of data_csv
corresponding to data</p></dd>


<dt>insert_wells_above</dt>
<dd><p>numeric value corresponding to number of empty
entries to insert before data in custom mode. This can be useful if a
subplate was read instead of an entire plate, meaning the number of rows
created by startcol:endcol does not add up to 96. For example, if the data
starts at B1, but the plate layout starts at A1, you can set this to 12 to
add 12 empty rows above the data which allows correct joining of data and
layout tables.</p></dd>


<dt>insert_wells_below</dt>
<dd><p>numeric value corresponding to number of empty
entries to insert after data in custom mode.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>a data.frame containing the parsed plate reader data</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="va">parsed_calib_plate</span> <span class="op">&lt;-</span> <span class="fu">magellan_parse</span><span class="op">(</span>data_csv <span class="op">=</span> <span class="st">"calibrations/20210104_calibration_data.csv"</span>, layout_csv <span class="op">=</span> <span class="st">"calibrations/20210104_calibration_plate_layout.csv"</span>, timeseries <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">parsed_data</span> <span class="op">&lt;-</span> <span class="fu">magellan_parse</span><span class="op">(</span>data_csv <span class="op">=</span> <span class="st">"data/20210104_data.csv"</span>, layout_csv <span class="op">=</span> <span class="st">"data/20210104_data_layout.csv"</span>, timeseries <span class="op">=</span> <span class="cn">TRUE</span>, timestart <span class="op">=</span> <span class="st">"0s"</span>, interval <span class="op">=</span> <span class="fl">30</span>, mode <span class="op">=</span> <span class="st">"read_first"</span><span class="op">)</span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Eszter Csibra.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

