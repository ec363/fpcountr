<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Process timecourse plate reader data (normalise, correct and calibrate) — process_plate • fpcountr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Process timecourse plate reader data (normalise, correct and calibrate) — process_plate" />
<meta property="og:description" content="Normalise and calibrate plate reader measurements to obtain molecular units
from the raw data. Originally based on flopr::process_plate but with many
changes. Takes as input timecourse plate reader data containing optical
density measurements and fluorescence measurements as csv file. First, the
function normalises optical density readings and fluorescence readings to an
autofluorescence model based on the specified negative wells (see 2020
Fedorec et al ACS SynBio for details). The identity of the blank wells need
to be specified in blank_wells, the reading to be used for optical density
in od_name, and the fluorescence channels in flu_channels. The
autofluorescence model can be set with af_model on the neg_well wells,
alternatively, fluorescence can be normalised to blank wells by setting
af_model to NULL. Second, if do_quench_correction is TRUE, it
compensates for cellular quenching of fluorescence measurements according to
the cell density. This requires the specification of od_type as &quot;OD600&quot; or
&quot;OD700&quot;. Third, if do_calibrate is TRUE, normalised values are calibrated,
where conversion factors are provided as od_coeffs_csv for OD and
fluor_coeffs_csv for fluorescence, and each calibration is specified by the
flu_slugs to represent the FP used, flu_gains to provide the gain used,
and flu_labels to specify how the relevant plots should be labelled, (eg.
flu_slugs = c(&quot;mcherry&quot;, &quot;mtagbfp2&quot;), flu_gains = c(60,80),
flu_labels = c(&quot;RFP, BFP&quot;))." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fpcountr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Process timecourse plate reader data (normalise, correct and calibrate)</h1>
    
    <div class="hidden name"><code>process_plate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Normalise and calibrate plate reader measurements to obtain molecular units
from the raw data. Originally based on <code><a href='https://rdrr.io/pkg/flopr/man/process_plate.html'>flopr::process_plate</a></code> but with many
changes. Takes as input timecourse plate reader data containing optical
density measurements and fluorescence measurements as csv file. First, the
function normalises optical density readings and fluorescence readings to an
autofluorescence model based on the specified negative wells (see 2020
Fedorec et al ACS SynBio for details). The identity of the blank wells need
to be specified in <code>blank_wells</code>, the reading to be used for optical density
in <code>od_name</code>, and the fluorescence channels in <code>flu_channels</code>. The
autofluorescence model can be set with <code>af_model</code> on the <code>neg_well</code> wells,
alternatively, fluorescence can be normalised to blank wells by setting
<code>af_model</code> to <code>NULL</code>. Second, if <code>do_quench_correction</code> is TRUE, it
compensates for cellular quenching of fluorescence measurements according to
the cell density. This requires the specification of <code>od_type</code> as "OD600" or
"OD700". Third, if <code>do_calibrate</code> is TRUE, normalised values are calibrated,
where conversion factors are provided as <code>od_coeffs_csv</code> for OD and
<code>fluor_coeffs_csv</code> for fluorescence, and each calibration is specified by the
<code>flu_slugs</code> to represent the FP used, <code>flu_gains</code> to provide the gain used,
and <code>flu_labels</code> to specify how the relevant plots should be labelled, (eg.
<code>flu_slugs = c("mcherry", "mtagbfp2")</code>, <code>flu_gains = c(60,80)</code>,
<code>flu_labels = c("RFP, BFP")</code>).</p>
    </div>

    <pre class="usage"><span class='fu'>process_plate</span><span class='op'>(</span>
  <span class='va'>data_csv</span>,
  blank_well <span class='op'>=</span> <span class='st'>"A1"</span>,
  od_name <span class='op'>=</span> <span class='st'>"OD"</span>,
  flu_channels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"green1green2"</span><span class='op'>)</span>,
  flu_channels_rename <span class='op'>=</span> <span class='cn'>NULL</span>,
  af_model <span class='op'>=</span> <span class='st'>"spline"</span>,
  neg_well <span class='op'>=</span> <span class='st'>"A2"</span>,
  do_quench_correction <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>od_type</span>,
  do_calibrate <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>instr</span>,
  flu_slugs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>)</span>,
  flu_gains <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>)</span>,
  flu_labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>)</span>,
  <span class='va'>od_coeffs_csv</span>,
  <span class='va'>fluor_coeffs_csv</span>,
  outfolder <span class='op'>=</span> <span class='st'>"."</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data_csv</th>
      <td><p>path to a csv file containing parsed plate reader data</p></td>
    </tr>
    <tr>
      <th>blank_well</th>
      <td><p>the well coordinates of one or more media blanks. Defaults
to "A1".</p></td>
    </tr>
    <tr>
      <th>od_name</th>
      <td><p>the column name for the optical density data. Defaults to
"OD".</p></td>
    </tr>
    <tr>
      <th>flu_channels</th>
      <td><p>the column names for the fluorescence data. Defaults to
"green1green2".</p></td>
    </tr>
    <tr>
      <th>flu_channels_rename</th>
      <td><p>if specified, what to change the flu_channels
column names to, before computing normalisations and calibrations. Can be
useful if the channel_name in the calibration file is named differently
from the columns in the data file. Needs to be same length as flu_channels,
if not all require changing, specify them anyway to allow positional
replacement (first element in flu_channels_rename replaces first in
flu_channels, etc). Defaults to NULL.</p></td>
    </tr>
    <tr>
      <th>af_model</th>
      <td><p>model used to fit negative control autofluorescence. For now
these include "polynomial", "invers_poly", "exponential", "spline" and
"loess". If set to NULL, no model is used, and fluorescence is normalised
akin to OD: by subtracting the value for the blanks. Defaults to "spline".</p></td>
    </tr>
    <tr>
      <th>neg_well</th>
      <td><p>the well coordinates of a non-fluorescent control. Defaults
to "A2".</p></td>
    </tr>
    <tr>
      <th>do_quench_correction</th>
      <td><p>logical. Should function correct for anticipated
quenching of fluorescence, depending on the cell density?</p></td>
    </tr>
    <tr>
      <th>od_type</th>
      <td><p>Which OD-type was used? Required for quench correction.
"OD600" or "OD700".</p></td>
    </tr>
    <tr>
      <th>do_calibrate</th>
      <td><p>logical. Should function convert OD and fluorescence data
to calibrated units? Defaults to FALSE.</p></td>
    </tr>
    <tr>
      <th>instr</th>
      <td><p>character string to represent instrument. If do_calibrate =
TRUE, used for filtering od_coeffs_csv and fluor_coeffs_csv files for
conversion factors of the relevant instrument.</p></td>
    </tr>
    <tr>
      <th>flu_slugs</th>
      <td><p>character array representing fluorescent proteins (format =
FPbase slug). If do_calibrate = TRUE, used for filtering fluor_coeffs_csv
for conversion factors of the relevant FP.</p></td>
    </tr>
    <tr>
      <th>flu_gains</th>
      <td><p>numeric array representing gains of each fluorescent
channel. If do_calibrate = TRUE, used for filtering fluor_coeffs_csv for
conversion factors of the relevant gain.</p></td>
    </tr>
    <tr>
      <th>flu_labels</th>
      <td><p>If do_calibrate = TRUE, the column names to be given to
each calibration. May be identical to flu_slug or flu_channel, but
recommended is to make it obvious which FP is being calibrated, eg
"mCherry", as channel names may be nonspecifically named eg "red1red1".
Needs to be same length as flu_slugs and flu_gains.</p></td>
    </tr>
    <tr>
      <th>od_coeffs_csv</th>
      <td><p>if do_calibrate = TRUE, path of the csv file containing
conversion factors for optical density</p></td>
    </tr>
    <tr>
      <th>fluor_coeffs_csv</th>
      <td><p>if do_calibrate = TRUE, path of the csv file
containing predicted conversion factors for the fluorescent channels</p></td>
    </tr>
    <tr>
      <th>outfolder</th>
      <td><p>path to folder where output files should be saved. Defaults
to current working directory.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a data.frame with columns for raw plate reader data, normalised data
and, if do_calibrate = TRUE, calibrated OD and FP data</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Eszter Csibra.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


