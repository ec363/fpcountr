<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Parses data exported from a Tecan Spark plate reader using Magellan software.
Handles standard (endpoint) or timecourse (kinetic) data containing
absorbance and/or fluorescence readings, but cannot handle spectra, such as
absorbance scans. Parsing consists of data extraction, data tidying, and data
joining to relevant metadata."><title>Parse Tecan Spark/Magellan data from endpoint and kinetic assays — parse_magellan • fpcountr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Parse Tecan Spark/Magellan data from endpoint and kinetic assays — parse_magellan"><meta property="og:description" content="Parses data exported from a Tecan Spark plate reader using Magellan software.
Handles standard (endpoint) or timecourse (kinetic) data containing
absorbance and/or fluorescence readings, but cannot handle spectra, such as
absorbance scans. Parsing consists of data extraction, data tidying, and data
joining to relevant metadata."><meta property="og:image" content="https://ec363.github.io/fpcountr/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fpcountr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/fpcountr.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/data_parsing.html">Data Parsing and Metadata</a>
    <a class="dropdown-item" href="../articles/path_lengths.html">Path Lengths</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ec363/fpcountr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Parse Tecan Spark/Magellan data from endpoint and kinetic assays</h1>
      <small class="dont-index">Source: <a href="https://github.com/ec363/fpcountr/blob/HEAD/R/parse_magellan.R" class="external-link"><code>R/parse_magellan.R</code></a></small>
      <div class="d-none name"><code>parse_magellan.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Parses data exported from a Tecan Spark plate reader using Magellan software.
Handles standard (endpoint) or timecourse (kinetic) data containing
absorbance and/or fluorescence readings, but cannot handle spectra, such as
absorbance scans. Parsing consists of data extraction, data tidying, and data
joining to relevant metadata.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">parse_magellan</span><span class="op">(</span></span>
<span>  <span class="va">data_csv</span>,</span>
<span>  <span class="va">metadata_csv</span>,</span>
<span>  timeseries <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  timestart <span class="op">=</span> <span class="st">"0s"</span>,</span>
<span>  interval <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"read_first"</span>,</span>
<span>  metadata_above <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  metadata_below <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  custom <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  startcol <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  endcol <span class="op">=</span> <span class="fl">97</span>,</span>
<span>  insert_wells_above <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  insert_wells_below <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data_csv</dt>
<dd><p>path to CSV file from Tecan Spark plate reader</p></dd>


<dt>metadata_csv</dt>
<dd><p>path to CSV file containing metadata</p></dd>


<dt>timeseries</dt>
<dd><p>logical. Is the data a timeseries? Defaults to FALSE.</p></dd>


<dt>timestart</dt>
<dd><p>string indicating the timepoint specified in column1 of the
export file corresponding to the first row of data. "0s" by default.</p></dd>


<dt>interval</dt>
<dd><p>numeric. time interval in minutes between readings in a
kinetic loop. Default is 10.</p></dd>


<dt>mode</dt>
<dd><p>mode has two options: "read_first" and "incubate_first". Setting
"read_first" mode tells the script that the plate reader method started
with reading the relevant channels, followed by incubation for the interval
time, meaning the first timepoint was at 0 min. Setting "incubate_first"
mode tells the script the opposite was true, making the first timepoint
equal to the length of the set interval, e.g. 10 min.</p></dd>


<dt>metadata_above</dt>
<dd><p>numeric value corresponding to the number of types of
metadata requested during creation of the Excel export file in Magellan,
that was placed ABOVE the data. These can include Well positions, Layout,
Replicate info, etc.</p></dd>


<dt>metadata_below</dt>
<dd><p>numeric value corresponding to the number of types of
metadata requested during creation of the Excel export file in Magellan,
that was placed BELOW the data. These can include Well positions, Layout,
Replicate info, etc.</p></dd>


<dt>custom</dt>
<dd><p>Boolean flag indicating whether script should deviate from the
default of collecting data from columns 2:97. If TRUE, script looks at
arguments <code>insert_wells_above</code>, <code>insert_wells_below</code>, <code>startcol</code>, <code>endcol</code>.
The total number of columns needs to add up to 96 if the <code>metadata_csv</code> file
includes rows A1-H12 and they must be in the same order as the metadata file
because this script joins positionally, not by recorded well value (wells
aren't exported by default).</p></dd>


<dt>startcol</dt>
<dd><p>numeric value corresponding to first column of <code>data_csv</code>
corresponding to data</p></dd>


<dt>endcol</dt>
<dd><p>numeric value corresponding to last column of <code>data_csv</code>
corresponding to data</p></dd>


<dt>insert_wells_above</dt>
<dd><p>numeric value corresponding to number of empty
entries to insert before data in custom mode. This can be useful if only a
portion of the plate was read, meaning the number of rows created by
<code>startcol</code>:<code>endcol</code> does not add up to 96. For example, if the data starts
at B1, but the metadata starts at A1, you can set this to 12 to add 12
empty rows above the data which allows correct joining of data and metadata
tables.</p></dd>


<dt>insert_wells_below</dt>
<dd><p>numeric value corresponding to number of empty
entries to insert after data in custom mode.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>a data.frame containing the parsed plate reader data</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">parsed_calib_plate</span> <span class="op">&lt;-</span> <span class="fu">parse_magellan</span><span class="op">(</span></span></span>
<span class="r-in"><span>    data_csv <span class="op">=</span> <span class="st">"calibrations/20210104_calibration_data.csv"</span>,</span></span>
<span class="r-in"><span>    metadata_csv <span class="op">=</span> <span class="st">"calibrations/20210104_calibration_metadata.csv"</span>,</span></span>
<span class="r-in"><span>    timeseries <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">parsed_data</span> <span class="op">&lt;-</span> <span class="fu">parse_magellan</span><span class="op">(</span></span></span>
<span class="r-in"><span>    data_csv <span class="op">=</span> <span class="st">"data/20210104_data.csv"</span>,</span></span>
<span class="r-in"><span>    metadata_csv <span class="op">=</span> <span class="st">"data/20210104_metadata.csv"</span>,</span></span>
<span class="r-in"><span>    timeseries <span class="op">=</span> <span class="cn">TRUE</span>, timestart <span class="op">=</span> <span class="st">"0s"</span>, interval <span class="op">=</span> <span class="fl">30</span>, mode <span class="op">=</span> <span class="st">"read_first"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eszter Csibra.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

