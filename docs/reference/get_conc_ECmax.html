<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get FP concentrations using ECmax method — get_conc_ECmax • fpcountr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get FP concentrations using ECmax method — get_conc_ECmax"><meta property="og:description" content="Get protein's concentration from a dilution series measured with an
A200-1000 absorbance spectrum. Based on get_conc_A280, but uses &quot;ECmax&quot;,
the FPbase-stated extinction coefficient for the FPbase-stated maximal
excitation wavelength (which usually corresponds to its maximal absorbance
wavelength). ... Function expects an input such as the csv file exported from
plot_absorbance_spectrum called '_processed.csv', which contains values
corrected for path length and normalised to blanks as a column called
normalised_cm1_value, but retains replicate data containing positional
(well) information required for exporting predicted concentrations at the end
of this function. ... Function uses fpcountR::get_properties to get FPbase
EC in M-1cm-1 and wavelength, and converts it to an ECmax mass extinction
coefficient in (mgml)-1cm-1 using the MW (worked out from protein_seq and
fpcountR::get_mw). Then the function uses the EC_max_mgml to work out the
concentration of protein in each well, using three correction methods.
Instead of using the normalised data directly, the values used are based on a
LOESS fit through the absorption spectra to minimise fluctuations due to
noise. ... Finally, linear models are fitted to each concentration prediction
method, and a csv file is built containing predicted concentrations according
to the user's chosen correction method. Plots showing each of the analytical
steps are saved concurrently. Troubleshooting: for 'incompatible lengths'
errors, adjust xrange to avoid noisy wavelengths."><meta property="og:image" content="https://ec363.github.io/fpcountr/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fpcountr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/fpcountr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ec363/fpcountr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get FP concentrations using ECmax method</h1>
    <small class="dont-index">Source: <a href="https://github.com/ec363/fpcountr/blob/HEAD/R/get_conc_ECmax.R" class="external-link"><code>R/get_conc_ECmax.R</code></a></small>
    <div class="hidden name"><code>get_conc_ECmax.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Get protein's concentration from a <em>dilution series</em> measured with an
<em>A200-1000 absorbance spectrum</em>. Based on <code>get_conc_A280</code>, but uses "ECmax",
the FPbase-stated extinction coefficient for the FPbase-stated maximal
excitation wavelength (which usually corresponds to its maximal absorbance
wavelength). ... Function expects an input such as the csv file exported from
<code>plot_absorbance_spectrum</code> called '_processed.csv', which contains values
corrected for path length and normalised to blanks as a column called
<code>normalised_cm1_value</code>, but retains replicate data containing positional
(well) information required for exporting predicted concentrations at the end
of this function. ... Function uses <code>fpcountR::get_properties</code> to get FPbase
EC in M-1cm-1 and wavelength, and converts it to an ECmax mass extinction
coefficient in (mgml)-1cm-1 using the MW (worked out from <code>protein_seq</code> and
<code>fpcountR::get_mw</code>). Then the function uses the EC_max_mgml to work out the
concentration of protein in each well, using three correction methods.
Instead of using the normalised data directly, the values used are based on a
LOESS fit through the absorption spectra to minimise fluctuations due to
noise. ... Finally, linear models are fitted to each concentration prediction
method, and a csv file is built containing predicted concentrations according
to the user's chosen correction method. Plots showing each of the analytical
steps are saved concurrently. Troubleshooting: for 'incompatible lengths'
errors, adjust xrange to avoid noisy wavelengths.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_conc_ECmax</span><span class="op">(</span></span>
<span>  <span class="va">protein_slug</span>,</span>
<span>  <span class="va">protein_seq</span>,</span>
<span>  <span class="va">processed_spectrum_csv</span>,</span>
<span>  wells_to_remove <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xrange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">250</span>, <span class="fl">800</span><span class="op">)</span>,</span>
<span>  corr_method <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  wav_to_use1 <span class="op">=</span> <span class="fl">340</span>,</span>
<span>  wav_to_use2 <span class="op">=</span> <span class="fl">333</span>,</span>
<span>  <span class="va">outfolder</span>,</span>
<span>  <span class="va">filename</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>protein_slug</dt>
<dd><p>character string of protein name in 'slug' form to match
slug of FPbase entry.</p></dd>


<dt>protein_seq</dt>
<dd><p>character string of protein sequence using 1-letter code.
Required for MW calculation.</p></dd>


<dt>processed_spectrum_csv</dt>
<dd><p>Path to csv file of a processed absorbance
spectrum. Processing should be done with <code>plot_absorbance_spectrum3</code>, which
corrects for path lengths and normalises to blank wells.</p></dd>


<dt>wells_to_remove</dt>
<dd><p>list of wells to remove before analysis. Defaults to
NULL.</p></dd>


<dt>xrange</dt>
<dd><p>list of two numerical values corresponding to the wavelength
range to keep when fitting the loess model across the absorbance spectrum.
By default these values are 250nm and 800nm but where the data at the UV
range is noisy, adjusting the xrange can prevent errors in the fitting.</p></dd>


<dt>corr_method</dt>
<dd><p>string corresponding to type of correction method to use
for the data to remove contribution of light scatter. Options are <code>none</code>,
<code>baseline</code> and <code>scatter</code>. Method <code>none</code> applies no correction. Method
<code>baseline</code> subtracts the absorbance value of the wavelength supplied in
<code>wav_to_use1</code>. Method <code>scatter</code> subtracts a fraction of the absorbance
value of the wavelength supplied in <code>wav_to_use2</code> according to scatter
theory (details in section).</p></dd>


<dt>wav_to_use1</dt>
<dd><p>numerical value of wavelength (nm) to use for <code>baseline</code>
correction. Defaults to 340nm.</p></dd>


<dt>wav_to_use2</dt>
<dd><p>numerical value of wavelength (nm) to use for <code>scatter</code>
correction. Defaults to 333nm.</p></dd>


<dt>outfolder</dt>
<dd><p>path to folder where output files should be saved. Defaults
to current working directory.</p></dd>


<dt>filename</dt>
<dd><p>filename of csv file from fpbase</p></dd>

</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="va">ecmax_concs</span> <span class="op">&lt;-</span> <span class="fu">get_conc_ECmax</span><span class="op">(</span>protein_slug <span class="op">=</span> <span class="st">"mcherry"</span>, protein_seq <span class="op">=</span> <span class="va">protein_seq</span>, processed_spectrum_csv <span class="op">=</span> <span class="st">"abs_parsed_processed.csv"</span>, corr_method <span class="op">=</span> <span class="st">"scatter"</span>, wav_to_use1 <span class="op">=</span> <span class="fl">700</span>, wav_to_use2 <span class="op">=</span> <span class="fl">315</span>, outfolder <span class="op">=</span> <span class="st">"protquant_ecmax/mCherry_T5N15pi"</span>, filename <span class="op">=</span> <span class="st">"mCherry_properties.csv"</span><span class="op">)</span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Eszter Csibra.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

